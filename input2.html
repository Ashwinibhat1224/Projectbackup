<!DOCTYPE html>
<html>
<head>
<title>MARIO GAME</title>
<link rel="stylesheet" href="styles.css">
</head>
<body onkeydown='getKeyAndMove(event)'>
<form name="form">
Enter the number of rows:
<input type="text" name="row"><br>
Enter the number of column:
<input type="text" name="col"><br>
<input type="button" onclick="create()", value="Start">
</form>
<div id="t">
</div>

<script>
function create()
 {
    col=document.forms.form.col.value; 
    row=document.forms.form.row.value;
	var a=[];
var b=[];
for(var k=0;k<4;k++)
{
a[k]=Math.floor((Math.random()*row)+1);
b[k]=Math.floor((Math.random()*col)+1);
}
var table='';
for(var i=1;i<=row;i++)
{
table+='<tr>'
for(var j=1;j<=col;j++)
{
	var cols = document.createElement('td');
if(i==a[0] & j==b[0])
{

table+='<td id='+i+-+j+'>'+'<img id="image1" src="mario.jpg">'+'</td>'

}
else if((i==a[1] & j==b[1])|(i==a[2] & j==b[2])| (i==a[3] & j==b[3]))
{
table+='<td id='+i+-+j+'>'+'<img src="food.png"'+'</td>'
}
else
{
table+='<td id='+i+-+j+'></td>'
}
}
table+='</tr>'
}
document.getElementById("t").innerHTML='<table border=1>'+table+'</table>';
}
	
			/*var x = document.getElementById("image1").parentNode.nodeName;
            console.log(x);
			function init()
			{
				
				var objImage=document.getElementById("image1");
				objImage.style.position='absolute';
				objImage.style.left='0px';
				objImage.style.top='0px';
			}		*/	
				function getKeyAndMove(e){	
				//var mario=document.getElementById('image1');
				//var ele=document.getElementById('image1').parentNode.id;
				//console.log(ele);				
				var key_code=e.which||e.keyCode;
				switch(key_code){
					case 37: 
						
						moveLeft();//left arrow key
						console.log("Left key pressed");
						break;
					case 38:
						var ele=document.getElementById('image1').parentNode.id;
						console.log(ele);
						moveUp();//Up arrow key
						console.log("Up key pressed");
						break;
					case 39: 
						var ele=document.getElementById('image1').parentNode.id;
						console.log(ele);
						moveRight();//right arrow key
						console.log("Right key pressed");
						break;
					case 40: 
						var ele=document.getElementById('image1').parentNode.id;
						console.log(ele);
						moveDown();//down arrow key
						console.log("Down key pressed");
						break;						
				}
			}
			function moveLeft(){
			var newParent='';
			var marioParent=document.getElementById('image1').parentNode.id;
			//var mario=document.getElementById('image1');
			//console.log(marioParent);
			document.getElementById(marioParent).removeChild(image1);
			var newParent=marioParent.split("-");
			console.log(newParent);
			newParent[1]--;
			console.log(newParent);
			var image=document.createElement("img");
			image.src="mario.jpg";
			document.getElementById(newParent).appendChild("image");
			
			}
			function moveUp(){
			var mario=document.getElementById('image1');
			mario.parentNode.removeChild(mario);
				mario.style.top=parseInt(mario.style.top)-5 +'px';
			}
			function moveRight(){
				objImage.style.left=parseInt(objImage.style.left)+5 +'px';
			}
			function moveDown(){
				objImage.style.top=parseInt(objImage.style.top)+5 +'px';
			}
			//window.onload=init;
		</script>
</body>
</html>
